<div class="password-page-wrapper">
    <div class="password-container">
        
        <div class="password-form-wrapper">
            
            <div class="logo-section">
                <img src="assets/Logo_IZ_com_nome.png" alt="IZZI FITNESS Logo" class="logo">
            </div>

            @if (!emailSent()) {
                <h1>Recuperar Senha</h1>
                <p class="description-text">Digite seu e-mail e enviaremos instruções para você redefinir sua senha.</p>
                
                <form class="password-form" [formGroup]="resetForm" (ngSubmit)="onSubmit()">
                    
                    <div class="input-group">
                        <div class="input-wrapper">
                            <input 
                                type="email" 
                                placeholder="Digite seu e-mail" 
                                formControlName="email"
                                [class.error-border]="f.email.invalid && f.email.touched"
                            >
                            <i class="fas fa-envelope icon"></i>
                        </div>
                        @if (f.email.invalid && f.email.touched) {
                            <small class="error-msg">
                                @if (f.email.hasError('required')) { O e-mail é obrigatório. }
                                @if (f.email.hasError('email')) { Digite um e-mail válido. }
                            </small>
                        }
                    </div>

                    <button type="submit" class="btn-reset" [disabled]="resetForm.invalid || isLoading()">
                        @if (isLoading()) {
                            <span class="loader"></span> Enviando...
                        } @else {
                            Enviar Link
                        }
                    </button>
                </form>

            } @else {
                <div class="success-message">
                    <i class="fas fa-check-circle success-icon"></i>
                    <h2>E-mail Enviado!</h2>
                    <p>Verifique sua caixa de entrada (e spam) para redefinir sua senha.</p>
                </div>
            }

            <div class="back-login">
                <a routerLink="/login"><i class="fas fa-arrow-left"></i> Voltar para Login</a>
            </div>
        </div>

        <div class="password-image-wrapper">
            <img src="assets/Imagem_modelo_login.png" alt="Fitness Motivation" class="fitness-image">
        </div>

    </div>
</div>